# Changelog Umbrella 2

- Upgrade to symfony 5
- Remove all deprecated and unused features
- Upgrade all node dependency, remove unused dependency

## CoreBundle

### Toolbar

- Remove **ToolbarType**
- Remove **ActionBuilder**. **ToolbarBuilder** is used to build form and action on toolbar

### DataTable

- Add method buildToolbar() to **DataTableType** to build toolbar (no need to declare DataTableType and ToolbarType to build a complete DataTable)
- Add method isCallback() to **DataTable** to check if its a DataTable.js ajax call. (no need to create a separate loadAction anymore)
- Class **TableSource** (legacy: DataTableQueryBuilder) is now used to provide data on DataTable (easier to provide data from other source than ORM).
- Add class **SourceModifier** to modify the source (ex: update Querybuilder object depending on toolbar data)
- Option **id** is not required anymore (autogenerated depending of class Namespace). 
- Add option **tree** to build a tree DataTable with expandable and collapsable rows

### DataTable Column

- Improve **ActionColumn** column (more comprehensive Action builder).  

### Tree

- Remove tree component. Use option **tree** on **DataTable** component

### Toast

- Add toast component to configure a toast displayed on client-side. (can be used with JsResponseBuilder or on controller).

### JsResponse (legacy: AppMessage / AppProxy)

- Rework client-side (js). Can declare custom jsResponseHandler or override the handler used by default (js). 
- Can reload components (ex: DataTable) without provide id.

### Js component

- Rework component manager (legacy : Kernel).
- Can attach component to any html tag (ex: ``app.use('.js-umbrella-collection', Collection);``)
- Declare some js class as js component

### Js

- Improve binding (spinner, xhr, confirm, unique ...)

### Other

- UmbrellaFileType can now be used on CollectionType

## AdminBundle

- Use Hyper admin template (legacy: Flatkit): More Ui component, full bs4 compliant, scss is configurable (can redefine variables), responsive.
- Improve Yaml menu loader (less verbose).